<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Default Title{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static',filename='images/favicon.png') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="top-bar-container" role="banner">
        <div class="bottom-bar">
            <div class="_26NNk cust-container">
                <h1 class="tit-h1">Scrappy</h1>
                <span>by</span>
                <img class="logo-image" src="{{ url_for('static',filename='images/logo-ipedis.svg') }}" alt="Logo de Ipedis">
            </div>

            

            <div class="right-content">
                <!-- Begin Navigation Bar -->
                <nav class="nav-bar">
                    <ul class="nav-list">
                        <li class="nav-item main-nav-item">
                            <a href="{{ url_for('index.index') }}" 
                               class="nav-link {{ 'nav-link-active' if current_endpoint == 'index.index' else '' }}">
                               Nouvel Échantillon
                            </a>
                        </li>
                        <li class="nav-item main-nav-item">
                            <a href="{{ url_for('sample_history.history') }}" 
                               class="nav-link {{ 'nav-link-active' if current_endpoint == 'sample_history.history' else '' }}">
                               Historique
                            </a>
                        </li>
                    </ul>
                </nav>                
                <!-- End Navigation Bar -->
                <div class="dropdown custom-dropdown">
                    <a href="#" data-toggle="dropdown" class="d-flex align-items-center dropdown-link" aria-haspopup="true" aria-expanded="false" data-offset="-140, 12">
                        <div class="profile-pic">
                            <span class="icon">{{ current_user.username[0].capitalize() }}</span>
                        </div>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 70px, 0px);">
                        <span class="dropdown-item" href="#">{{ current_user.username }}</span>
                        <a class="dropdown-item" href="{{ url_for('auth.logout') }}">Se déconnecter</a>
                    </div>
                </div>
            </div>
        </div>
  </header>


    <!-- Content section -->
    {% block content %}
    {% endblock %}

    <footer class="footer" role="contentinfo">
        <div class="footer__bottom container-custom">
          <img loading="lazy" class="footer__logo loading" src="{{ url_for('static',filename='images/logo-blanc.svg') }}" alt="Logo Ipedis">
          <span class="footer-text" class="footer__list">Powered by Team Conseil V2</span>
        </div>
    </footer>

    <div id="loading-overlay">
        <img id="Calque_1" src="{{ url_for('static',filename='images/favicon-Ipedis.svg') }}" alt="Loading" />
        <p id="loading-message">Chargement...</p>
    </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
<script src="{{ url_for('static',filename='js/loading-messages.js') }}"></script>
<!-- Custom script to show the modal -->
<script>
  $(document).ready(function() {
    $('#errorModal').modal('show');
  });
</script>
{% block script %}{% endblock %}
</body>
</html>
